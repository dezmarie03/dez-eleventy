---
layout: base.njk
templateClass: tmpl-post
---

<article>
  {{ content | safe }}
</article>

<script type="text/javascript">
  (function () {
    let timeout;
    let readingProgressBar = document.createElement('div');
    readingProgressBar.id = 'progress';
    document.body.appendChild(readingProgressBar);
    let max = document.body.scrollHeight - innerHeight;
    readingProgressBar.style.width = `${(pageYOffset / max) * 100}%`;

    window.addEventListener('scroll', () => {
      clearTimeout(timeout);
      timeout = setTimeout(() => {
        readingProgressBar.style.width = `${(pageYOffset / max) * 100}%`;
      }, 200);
    });
  }());
</script>
